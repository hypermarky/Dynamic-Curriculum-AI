import{g as k,n as g,y,c as i,o as l,a as t,k as h,f as p,t as n,v as m}from"./index-Cm3Rla8a.js";const b={class:"space-y-4"},_={class:"flex justify-between items-start gap-4"},w={class:"flex-grow"},D=["for"],E=["id"],V={key:1,class:"text-md font-semibold text-sky-300 py-2"},B={key:0,class:"flex-shrink-0 pt-6"},L=["for"],C=["id","checked"],S={class:"text-sm font-medium text-slate-300 group-hover:text-sky-400 transition-colors"},I=["for"],M=["id"],N={key:1,class:"text-sm text-slate-300 mt-1 py-2 min-h-[4em] whitespace-pre-wrap"},T=["for"],U=["id"],j=["href"],q={class:"truncate"},$={key:0,class:"w-3.5 h-3.5 ml-1.5 opacity-70 group-hover:opacity-100 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},H={__name:"PathStep",props:{stepData:{type:Object,required:!0},index:{type:Number,required:!0},isEditable:{type:Boolean,default:!1},isLearnerView:{type:Boolean,default:!1}},emits:["update:step","toggle-complete"],setup(o,{emit:v}){const d=o,f=v,e=k({topic:"",description:"",suggested_link:"",completed:!1}),a=g(()=>`step-${d.index}-${Date.now()}`);y(()=>d.stepData,c=>{c&&(e.value={...c},typeof e.value.completed>"u"&&(e.value.completed=!1))},{deep:!0,immediate:!0});const u=()=>{d.isEditable&&f("update:step",{...e.value},d.index)},x=c=>{const s=c.target.checked;e.value.completed=s,f("toggle-complete",d.index,s)};return(c,s)=>(l(),i("div",b,[t("div",_,[t("div",w,[t("label",{for:"topic-"+a.value,class:"block text-xs font-medium text-slate-400 mb-1"},n(o.index+1)+". Step Topic ",9,D),o.isEditable?p((l(),i("input",{key:0,id:"topic-"+a.value,type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>e.value.topic=r),onInput:u,class:"input-field-intellipath !py-2 text-md font-semibold",placeholder:"Learning Topic Title"},null,40,E)),[[m,e.value.topic]]):(l(),i("h4",V,n(o.index+1)+". "+n(e.value.topic),1))]),o.isEditable||o.isLearnerView?(l(),i("div",B,[t("label",{for:"completed-"+a.value,class:"flex items-center space-x-2 cursor-pointer group",title:"Mark step as completed"},[t("input",{type:"checkbox",id:"completed-"+a.value,checked:e.value.completed,onChange:x,class:"form-checkbox h-5 w-5 text-sky-500 bg-slate-700 border-slate-600 rounded focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800"},null,40,C),t("span",S,n(o.isEditable&&!o.isLearnerView?"Done (Admin)":"Done"),1)],8,L)])):h("",!0)]),t("div",null,[t("label",{for:"description-"+a.value,class:"block text-xs font-medium text-slate-400 mb-1"},"Description",8,I),o.isEditable?p((l(),i("textarea",{key:0,id:"description-"+a.value,"onUpdate:modelValue":s[1]||(s[1]=r=>e.value.description=r),onInput:u,rows:"3",class:"input-field-intellipath !py-2 text-sm",placeholder:"Describe what this learning step covers..."},null,40,M)),[[m,e.value.description]]):(l(),i("p",N,n(e.value.description),1))]),t("div",null,[t("label",{for:"link-"+a.value,class:"block text-xs font-medium text-slate-400 mb-1"},"Resource Link",8,T),o.isEditable?p((l(),i("input",{key:0,id:"link-"+a.value,type:"url","onUpdate:modelValue":s[2]||(s[2]=r=>e.value.suggested_link=r),onInput:u,class:"input-field-intellipath !py-2 text-sm",placeholder:"https://example.com/resource-material"},null,40,U)),[[m,e.value.suggested_link]]):(l(),i("a",{key:1,href:e.value.suggested_link,target:"_blank",rel:"noopener noreferrer",class:"text-cyan-400 hover:text-cyan-300 hover:underline text-sm break-all transition-colors inline-flex items-center group py-2"},[t("span",q,n(e.value.suggested_link||"No link provided"),1),e.value.suggested_link?(l(),i("svg",$,s[3]||(s[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"},null,-1)]))):h("",!0)],8,j))])]))}};export{H as _};
