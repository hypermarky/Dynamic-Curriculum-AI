import{g as f,y as x,c as m,o as u,a as l,k as g,t as c,f as r,v as n,u as d,m as _}from"./index-DyemIcl1.js";import{u as E}from"./employeeStore-CnIk7pTv.js";const w={class:"text-xl font-semibold leading-6 text-sky-400"},S={class:"pt-2 flex flex-col sm:flex-row-reverse sm:justify-start gap-3"},C=["disabled"],D={key:0},U={key:1},L={key:0,class:"text-sm text-red-400"},B={__name:"EmployeeForm",props:{employee:Object},emits:["success","cancel"],setup(v,{emit:y}){const p=v,b=y,o=E(),i=f(!1),t=f({name:"",email:"",current_role:"",current_skills:"",desired_skills_goal:""});x(()=>p.employee,a=>{a&&a.id?(i.value=!0,t.value={...a}):(i.value=!1,t.value={name:"",email:"",current_role:"",current_skills:"",desired_skills_goal:""})},{immediate:!0});const k=async()=>{try{i.value&&p.employee?await o.updateEmployee(p.employee.id,t.value):await o.addEmployee(t.value),b("success")}catch(a){console.error("Employee form submission error:",a)}};return(a,e)=>(u(),m("form",{onSubmit:_(k,["prevent"]),class:"space-y-6"},[l("h3",w,c(i.value?"Edit Employee Details":"Add New Employee"),1),l("div",null,[e[6]||(e[6]=l("label",{for:"name",class:"block text-sm font-medium text-slate-300 mb-1"},"Full Name",-1)),r(l("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>t.value.name=s),id:"name",required:"",class:"input-field-intellipath",placeholder:"e.g., Ada Lovelace"},null,512),[[n,t.value.name]])]),l("div",null,[e[7]||(e[7]=l("label",{for:"email",class:"block text-sm font-medium text-slate-300 mb-1"},"Email (Optional)",-1)),r(l("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=s=>t.value.email=s),id:"email",class:"input-field-intellipath",placeholder:"e.g., ada@example.com"},null,512),[[n,t.value.email]])]),l("div",null,[e[8]||(e[8]=l("label",{for:"current_role",class:"block text-sm font-medium text-slate-300 mb-1"},"Current Role",-1)),r(l("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>t.value.current_role=s),id:"current_role",class:"input-field-intellipath",placeholder:"e.g., Software Engineer"},null,512),[[n,t.value.current_role]])]),l("div",null,[e[9]||(e[9]=l("label",{for:"current_skills",class:"block text-sm font-medium text-slate-300 mb-1"},"Current Skills",-1)),r(l("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.current_skills=s),id:"current_skills",rows:"3",class:"input-field-intellipath",placeholder:"e.g., Python, JavaScript, Project Management"},null,512),[[n,t.value.current_skills]]),e[10]||(e[10]=l("p",{class:"mt-1 text-xs text-slate-500"},"Enter skills, comma-separated or one per line.",-1))]),l("div",null,[e[11]||(e[11]=l("label",{for:"desired_skills_goal",class:"block text-sm font-medium text-slate-300 mb-1"},"Desired Skills / Career Goal",-1)),r(l("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.desired_skills_goal=s),id:"desired_skills_goal",rows:"3",class:"input-field-intellipath",placeholder:"e.g., Become a Lead Data Scientist, Learn Cloud Architecture"},null,512),[[n,t.value.desired_skills_goal]])]),l("div",S,[l("button",{type:"submit",class:"btn-intellipath-primary w-full sm:w-auto",disabled:d(o).isLoading},[d(o).isLoading?(u(),m("span",D,"Saving...")):(u(),m("span",U,c(i.value?"Update Employee":"Add Employee"),1))],8,C),l("button",{type:"button",onClick:e[5]||(e[5]=s=>a.$emit("cancel")),class:"btn-intellipath-secondary w-full sm:w-auto"},"Cancel")]),d(o).error?(u(),m("p",L,c(d(o).error),1)):g("",!0)],32))}};export{B as _};
